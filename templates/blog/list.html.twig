{% extends 'blog/blog.html.twig' %}
{% block content_blog %}

    {% for msg in app.session.flashBag.get('info') %}
        <p>{{ msg|trans }}</p></br>
    {% endfor %}

    {% if(article|length > 0) %}
        <ul>
            {% for article in article %}

                {% set id = article.id %}
                <li><a href="{{ url('app_blog_article', {'id': id}) }}">{{ article.title }} </a> : {{ article.content | truncate(20)}}

                    </br><a>{% trans %}Categories{% endtrans %} : </a>
                    {% for category in article.category %}
                        <br>
                        <a>{{ category.name }}</a>
                    {% endfor %}

                    <a></br>{% trans %}Auteur{% endtrans %} : {{ article.author }}</a>

                    </br><a>Message : </a>
                    {% for comment in article.comments %}
                        <br>
                        <a>{{ comment.author }} / {{ comment.title }} : {{ comment.message }}</a>
                    {% endfor %}
                </br></br>
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    {% if(article.count > 5) %}
        {% set nbPage = article.count/5 %}
            {% for i in 0..nbPage %}
                <a href="{{ url('app_blog_list', {'page': (i+1)}) }}">{{ i+1 }}</a>
            {% endfor %}
        </br>
    {% endif %}

{% endblock %}